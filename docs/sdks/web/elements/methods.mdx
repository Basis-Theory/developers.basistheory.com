---
sidebar_label: Methods & Events
---

# Elements Method & Events

Basis Theory Elements offers several methods and events to listen to changes to your components and interact with the underlying data.

## Methods

Once you have [created](./lifecycle#create-element) and [mounted](./lifecycle#mount-element) an element instance, you can invoke the methods below:

```html showLineNumbers
<div id="my-card"></div>

<script>
  var cardElement = BasisTheory.createElement("card");
  cardElement.mount("#my-card");

  cardElement.focus();
</script>
```

| Name       | Resulting Type | Eligible Elements                                          | Description                                                                                  |
| ---------- | -------------- | ---------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| `clear`    | _void_         | All                                                        | Clears the element input(s) value.                                                           |
| `focus`    | _void_         | All                                                        | Focuses on the element input.                                                                |
| `blur`     | _void_         | All                                                        | Blurs the element input.                                                                     |
| `month`    | _number_       | [cardExpirationDate](./types#card-expiration-date-element) | Data-parsing method that resolves to the month value of the input date, where "January" = 1. |
| `year`     | _number_       | [cardExpirationDate](./typesard-expiration-date-element)   | Data-parsing method that resolves to the four-digit year value of the input date.            |
| `setValue` | _void_         | All                                                        | Accepts a synthetic reference from a retrieved token and safely sets it as the input value.  |

## Events

You can communicate with Elements by listening to events. When you subscribe to an event, you'll get back a <a href="https://rxjs.dev/guide/subscription" target="_blank">Subscription</a> that you can unsubscribe if/when it fits your workflow.

```javascript showLineNumbers
// Make sure to replace 'event-type' with an actual event type.
var subscription = cardElement.on("event-type", (event) => {
  // handle event
});

subscription.unsubscribe(); // stops listening to the event type
```

## On Ready

This event is triggered when the element has rendered and user is able to start interacting with it.

```javascript showLineNumbers
cardElement.on("ready", () => {
  // handle ready event
});
```

## On Change

This event is triggered whenever element's value(s) change. For example, if the user types data that doesn't change the state of a field between valid/invalid or empty/filled, you shouldn't expect the event to trigger.

```javascript showLineNumbers
cardElement.on("change", (changeEvent) => {
  if (changeEvent.complete) {
    // enable submit button
  } else {
    // disable submit button
    // present validation message
  }
});
```

| Parameter | Required | Type       | Description                                                                                     |
| --------- | -------- | ---------- | ----------------------------------------------------------------------------------------------- |
| `event`   | true     | _"change"_ | The event type to listen to.                                                                    |
| `handler` | true     | _function_ | Callback function to be called when the event is fired. Takes in a [ChangeEvent](#changeevent). |

### ChangeEvent

```json showLineNumbers
{
  "complete": false,
  "empty": false,
  "errors": [
    {...},
    {...}
  ],
  "cardBrand": "american-express",
  "cardLast4": "8431"
}
```

| Attribute   | Type      | Eligible Elements                                                          | Description                                                                                                                                                                       |
| ----------- | --------- | -------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `complete`  | _boolean_ | All                                                                        | If the element value is well-formed and is ready to be submitted.                                                                                                                 |
| `empty`     | _boolean_ | All                                                                        | Whether the element is empty. Multi-input Elements will be `empty` only if all inputs are.                                                                                        |
| `errors`    | _array_   | All                                                                        | Array of [FieldError](#fielderror).                                                                                                                                               |
| `cardBrand` | _string_  | [card](./types#card-element)<br/>[cardNumber](./types#card-number-element) | (Optional) The credit card [brand](./options#card-brands) (e.g. `'american-express'`, `'visa'`, `'unknown'`). The value defaults to `'unknown'` until a card brand is recognized. |
| `cardLast4` | _string_  | [card](./types#card-element)<br/>[cardNumber](./types#card-number-element) | (Optional) The credit card's last 4 digits. The value is not provided until a complete card number is entered.                                                                    |

### FieldError

```json showLineNumbers
{
  "targetId": "cardNumber",
  "type": "invalid"
}
```

| Attribute  | Type                          | Description                                                                 |
| ---------- | ----------------------------- | --------------------------------------------------------------------------- |
| `targetId` | _string_                      | Input ID that triggered the error. Values vary per [element type](./types). |
| `type`     | _"invalid"_ or _"incomplete"_ | Type of the error.                                                          |

## On Focus

Triggered when an element input is focused.

```javascript showLineNumbers
cardElement.on("focus", (focusEvent) => {});
```

| Parameter | Required | Type       | Description                                                                                   |
| --------- | -------- | ---------- | --------------------------------------------------------------------------------------------- |
| `event`   | true     | _"focus"_  | The event type to listen to.                                                                  |
| `handler` | true     | _function_ | Callback function to be called when the event is fired. Takes in a [FocusEvent](#focusevent). |

### FocusEvent

```json showLineNumbers
{
  "targetId": "cardNumber"
}
```

| Attribute  | Type     | Description                                                                 |
| ---------- | -------- | --------------------------------------------------------------------------- |
| `targetId` | _string_ | Input ID that triggered the event. Values vary per [element type](./types). |

## On Blur

Triggered when an element input focus is lost.

```javascript showLineNumbers
cardElement.on("blur", (blurEvent) => {});
```

| Parameter | Required | Type       | Description                                                                                 |
| --------- | -------- | ---------- | ------------------------------------------------------------------------------------------- |
| `event`   | true     | _"blur"_   | The event type to listen to.                                                                |
| `handler` | true     | _function_ | Callback function to be called when the event is fired. Takes in a [BlurEvent](#blurevent). |

### BlurEvent

```json showLineNumbers
{
  "targetId": "cardNumber"
}
```

| Attribute  | Type     | Description                                                                 |
| ---------- | -------- | --------------------------------------------------------------------------- |
| `targetId` | _string_ | Input ID that triggered the event. Values vary per [element type](./types). |

## On Keydown

Triggered when user hits a special key inside an element input.

```javascript showLineNumbers
cardElement.on("keydown", (keydownEvent) => {});
```

| Parameter | Required | Type        | Description                                                                                       |
| --------- | -------- | ----------- | ------------------------------------------------------------------------------------------------- |
| `event`   | true     | _"keydown"_ | The event type to listen to.                                                                      |
| `handler` | true     | _function_  | Callback function to be called when the event is fired. Takes in a [KeydownEvent](#keydownevent). |

### KeydownEvent

```json showLineNumbers
{
  "targetId": "cardNumber",
  "key": "Enter",
  "ctrlKey": false,
  "altKey": false,
  "shiftKey": false,
  "metaKey": false
}
```

| Attribute  | Type                | Description                                                                                                                                                             |
| ---------- | ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `targetId` | _string_            | Input targetId that triggered the event. Values vary per [element type](./types).                                                                                       |
| `key`      | _Escape_ or _Enter_ | Key pressed by the user.                                                                                                                                                |
| `ctrlKey`  | _boolean_           | Flag indicating <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/ctrlKey" target="_blank">`control` key</a> was pressed when the event occurred. |
| `altKey`   | _boolean_           | Flag indicating <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/altKey" target="_blank">`alt` key</a> was pressed when the event occurred.      |
| `shiftKey` | _boolean_           | Flag indicating <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/shiftKey" target="_blank">`shift` key</a> was pressed when the event occurred.  |
| `metaKey`  | _boolean_           | Flag indicating <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/metaKey" target="_blank">`meta` key</a> was pressed when the event occurred.    |