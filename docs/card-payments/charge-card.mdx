---
title: Charge a Card
hide_title: true
description: This guide walks you through the process of charging a card against a Payments Service Provider using the Proxy
toc_max_heading_level: 3
---

import { Intro } from "@site/src/components/shared/Intro";
import { ApplicationSection } from "@site/src/components/docs/ApplicationSection";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import GettingStartedSection from "@site/src/components/docs/_getting-started-section.mdx";
import SaveCardSection from "./sections/_save-card-section.mdx";
import TokenIntentSample from "./sections/_token-intent-sample.mdx";

<Intro
  title="Charge a Card"
  caption="Streamline card transactions with a secure, proxy-powered solution."
/>

Charging a card involves finalizing the transaction by requesting approval from the card networks and issuers to transfer funds. In checkout flows, this operation typically constitutes a Customer-Initiated Transaction (CIT), where the cardholder actively authorizes the payment. Properly flagged CITs help issuers distinguish these transactions from merchant-initiated ones, often leading to higher approval rates and a smoother payment experience.

```mermaid
  sequenceDiagram
    participant backend as Merchant<br>Backend
    participant btp as Basis Theory<br>Proxy
    participant psp as Processor<br>API

    activate backend
    backend ->>+ btp: Charge payload<br>with card {{ token }}
    btp ->> btp: Detokenize card data
    btp ->>+ psp: Charge payload<br>with card data
    psp ->> psp: Process transaction against networks
    psp -->>- btp: Transaction response
    btp -->>- backend: Transaction response
    deactivate backend
```

This guide will show you how to use the Proxy to charge a card with your chosen Payment Service Provider (PSP) while offloading PCI compliance scope with ease. Weâ€™ll explore a variety of processor-specific standards and their unique verification quirks, offering practical examples you can adapt to your selected PSP.

If you are not yet collecting your customers' cards with Basis Theory, here are a few guides you can explore:

- [Replace Processor iFrames](/docs/card-payments/replace-processor-iframes) - capture cards in the frontend;
- [Receive Cards via API / Webhooks](/docs/card-payments/receive-cards-api) - receive cards in API requests;

<GettingStartedSection />

### Private Application

<ApplicationSection type="private" permissions={["token:use", "token:create"]} />

## Send the Data

Payment service providers (PSPs) may differ in how they handle this operation, offering workflows like "authorization and capture" or "direct charge." Understanding these variations allows merchants to optimize the process for efficiency and reliability, ensuring seamless processing in multi-psp scenarios and consistent fund settlement.

Given you have previously created a Token Intent:

<TokenIntentSample />

Here is how you can leverage the [Ephemeral Proxy](/docs/api/proxies/ephemeral-proxy), a tool that transparently performs detokenization, to share the sensitive cardholder data to the Payments Processor or Acquirer API.

<Tabs className="bt-tabs" queryString="processor">
  <TabItem value="stripe" label="Stripe">

In Stripe, you can charge a card by creating a [Payment Intent](https://docs.stripe.com/payments/payment-intents).

```shell showLineNumbers title="Create a Payment Intent"
curl 'https://api.basistheory.com/proxy' \
-X 'POST' \
// highlight-start
-H 'BT-API-KEY: <PRIVATE_API_KEY>' \
-H 'BT-PROXY-URL: https://api.stripe.com/v1/payment_intents' \
-H 'Authorization: Bearer sk_test_51KMGNYGuvJF9SIWEW0y4rKcaQwLVLck2rGB8UEPHzSp1utx7gXKAfZ3DVgjMfAuvBIT42pQhg0sIx2PepEJkXv9g00yIrUwhI4' \
// highlight-end
-H 'Content-Type: application/x-www-form-urlencoded' \
--data-urlencode 'amount=1000' \
--data-urlencode 'currency=USD' \
--data-urlencode 'customer=cus_RTEOvM5dSx9RCS' \
--data-urlencode 'confirm=true' \
--data-urlencode 'payment_method_data[type]=card' \
// highlight-start
--data-urlencode 'payment_method_data[card][number]={{ token_intent: d2cbc1b4-5c3a-45a3-9ee2-392a1c475ab4 | json: "$.data.number" }}' \
--data-urlencode 'payment_method_data[card][exp_month]={{ token_intent: d2cbc1b4-5c3a-45a3-9ee2-392a1c475ab4 | json: "$.data" |  card_exp: "MM" }}' \
--data-urlencode 'payment_method_data[card][exp_year]={{ token_intent: d2cbc1b4-5c3a-45a3-9ee2-392a1c475ab4 | json: "$.data" | card_exp: "YYYY" }}' \
--data-urlencode 'payment_method_data[card][cvc]={{ token_intent: d2cbc1b4-5c3a-45a3-9ee2-392a1c475ab4 | json: "$.data.cvc" }}'
// highlight-end
```

```json showLineNumbers title="Payment Intent Response"
{
  // highlight-next-line
  "id": "pi_3MtwBwLkdIwHu7ix28a3tqPa",
  "status": "succeeded",
  "object": "payment_intent",
  // highlight-next-line
  "payment_method": "pm_1QaKJmG9VRQ2700S5JcsJv4Q",
  "latest_charge": {
    "payment_method_details": {
      "card": {
        // highlight-next-line
        "network_transaction_id": "8723dfab9c4e56a1b8cd0291ef67ac43"
        ...
      }
      ...
    }
    ...
  }
  ...
}
```
  </TabItem>
</Tabs>

<SaveCardSection />

## Returning Customers
